{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useAuth}from'./context/AuthContext';// Layout Components\nimport Navbar from'./components/layout/Navbar';import Footer from'./components/layout/Footer';// Page Components\nimport Home from'./pages/Home';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import AppointmentForm from'./pages/AppointmentForm';import AppointmentDetails from'./pages/AppointmentDetails';import RescheduleAppointment from'./pages/RescheduleAppointment';import CalendarView from'./pages/CalendarView';import Profile from'./pages/Profile';import BusinessDashboard from'./pages/BusinessDashboard';import ServiceForm from'./pages/ServiceForm';import AvailabilityForm from'./pages/AvailabilityForm';import NotFound from'./pages/NotFound';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,roles=[]}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}if(roles.length>0&&!roles.includes(user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"});}return children;};const App=()=>{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/appointments/new\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AppointmentForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/appointments/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AppointmentDetails,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/appointments/reschedule/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(RescheduleAppointment,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/calendar\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CalendarView,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/business/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:['business','admin'],children:/*#__PURE__*/_jsx(BusinessDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/business/services/new\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:['business','admin'],children:/*#__PURE__*/_jsx(ServiceForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/business/services/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:['business','admin'],children:/*#__PURE__*/_jsx(ServiceForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/business/availability\",element:/*#__PURE__*/_jsx(ProtectedRoute,{roles:['business','admin'],children:/*#__PURE__*/_jsx(AvailabilityForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","useAuth","Navbar","Footer","Home","Login","Register","Dashboard","AppointmentForm","AppointmentDetails","RescheduleAppointment","CalendarView","Profile","BusinessDashboard","ServiceForm","AvailabilityForm","NotFound","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProtectedRoute","_ref","children","roles","user","loading","to","length","includes","role","App","className","path","element"],"sources":["D:/Appointment Scheduler/client/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuth } from './context/AuthContext';\n\n// Layout Components\nimport Navbar from './components/layout/Navbar';\nimport Footer from './components/layout/Footer';\n\n// Page Components\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport AppointmentForm from './pages/AppointmentForm';\nimport AppointmentDetails from './pages/AppointmentDetails';\nimport RescheduleAppointment from './pages/RescheduleAppointment';\nimport CalendarView from './pages/CalendarView';\nimport Profile from './pages/Profile';\nimport BusinessDashboard from './pages/BusinessDashboard';\nimport ServiceForm from './pages/ServiceForm';\nimport AvailabilityForm from './pages/AvailabilityForm';\nimport NotFound from './pages/NotFound';\n\n// Protected Route Component\nconst ProtectedRoute = ({ children, roles = [] }) => {\n  const { user, loading } = useAuth();\n  \n  if (loading) {\n    return <div>Loading...</div>;\n  }\n  \n  if (!user) {\n    return <Navigate to=\"/login\" />;\n  }\n  \n  if (roles.length > 0 && !roles.includes(user.role)) {\n    return <Navigate to=\"/dashboard\" />;\n  }\n  \n  return children;\n};\n\nconst App = () => {\n  return (\n    <>\n      <Navbar />\n      <div className=\"container\">\n        <Routes>\n          {/* Public Routes */}\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          \n          {/* Protected Routes - Users */}\n          <Route \n            path=\"/dashboard\" \n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/appointments/new\" \n            element={\n              <ProtectedRoute>\n                <AppointmentForm />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/appointments/:id\" \n            element={\n              <ProtectedRoute>\n                <AppointmentDetails />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/appointments/reschedule/:id\" \n            element={\n              <ProtectedRoute>\n                <RescheduleAppointment />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/calendar\" \n            element={\n              <ProtectedRoute>\n                <CalendarView />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/profile\" \n            element={\n              <ProtectedRoute>\n                <Profile />\n              </ProtectedRoute>\n            } \n          />\n          \n          {/* Protected Routes - Business */}\n          <Route \n            path=\"/business/dashboard\" \n            element={\n              <ProtectedRoute roles={['business', 'admin']}>\n                <BusinessDashboard />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/business/services/new\" \n            element={\n              <ProtectedRoute roles={['business', 'admin']}>\n                <ServiceForm />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/business/services/:id\" \n            element={\n              <ProtectedRoute roles={['business', 'admin']}>\n                <ServiceForm />\n              </ProtectedRoute>\n            } \n          />\n          <Route \n            path=\"/business/availability\" \n            element={\n              <ProtectedRoute roles={['business', 'admin']}>\n                <AvailabilityForm />\n              </ProtectedRoute>\n            } \n          />\n          \n          {/* 404 Route */}\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}